"use strict";var Unicorn=function(){var c={},l="",f=function(){var e=document.getElementsByName("csrfmiddlewaretoken");if(0<e.length)return e[0].getAttribute("value")}(),s={};function u(e){e.querySelectorAll("[unicorn\\:model]").forEach(function(e){var t,n,o=e.getAttribute("unicorn:model");t=e,s[n=o]&&("radio"==t.type.toLowerCase()?t.value==s[n]&&(t.checked=!0):"checkbox"==t.type.toLowerCase()?t.checked=!0:t.value=s[n])})}function d(r,i,a,u,d){debounce(function(){var e=l+"/"+r,t=i.getAttribute("unicorn:checksum"),n={id:a,data:s,checksum:t,actionQueue:[u]},o={Accept:"application/json","X-Requested-With":"XMLHttpRequest"};o["X-CSRFToken"]=f,fetch(e,{method:"POST",headers:o,body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json()}).then(function(e){var t,n;e.error?console.error(e.error):(c.setData(e.data),t=e.dom,n={changed:[],added:[],removed:[]},morphdom(i,t,{childrenOnly:!1,getNodeKey:function(e){if(e.attributes&&(e.getAttribute("unicorn:key")||e.getAttribute("unicorn:id")||e.id))return e.getAttribute("unicorn:key")||e.getAttribute("unicorn:id")||e.id;if(e.id)return e.id},onNodeDiscarded:function(e){n.removed.push(e)},onBeforeElUpdated:function(e,t){if(e.isEqualNode(t))return!1},onElUpdated:function(e){n.changed.push(e)},onNodeAdded:function(e){n.added.push(e)}}),d&&null!=d&&d())})},250)()}return c.init=function(e){l=e},c.componentInit=function(e){var r=e.id,i=e.name,a=document.querySelector('[unicorn\\:id="'+r+'"]');a||Error("No id found"),u(a),listen("input","[unicorn\\:model]",function(e,t){var n=t.getAttribute("unicorn:model"),o=function(e){var t=e.value;"checkbox"==e.type.toLowerCase()&&(t=e.checked);if("select-multiple"==e.type.toLowerCase()){t=[];for(var n=0;n<e.selectedOptions.length;n++)t.push(e.selectedOptions[n].value)}return t}(t);d(i,a,r,{type:"syncInput",payload:{name:n,value:o}},function(){u(a)})}),listen("click","[unicorn\\:click]",function(e,t){var n=t.getAttribute("unicorn:click");d(i,a,r,{type:"callMethod",payload:{name:n,params:[]}},function(){u(a)})})},c.setData=function(e){s=e},c}();function $(e,t){return null==t&&(t=document),t.querySelector(e)}function $$(e,t){return null==t&&(t=document),Array.from(t.querySelectorAll(e))}function listen(e,n,o){document.addEventListener(e,function(e){var t=e.target.closest(n);t&&o(e,t)})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function debounce(o,r,i){var a;return function(){var e=this,t=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||o.apply(e,t)},r),n&&o.apply(e,t)}}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).morphdom=t()}(void 0,function(){var a;var x="http://www.w3.org/1999/xhtml",k="undefined"==typeof document?void 0:document,u=!!k&&"content"in k.createElement("template"),d=!!k&&k.createRange&&"createContextualFragment"in k.createRange();function U(e){return e=e.trim(),u?(n=e,(o=k.createElement("template")).innerHTML=n,o.content.childNodes[0]):d?(t=e,a||(a=k.createRange()).selectNode(k.body),a.createContextualFragment(t).childNodes[0]):(r=e,(i=k.createElement("body")).innerHTML=r,i.childNodes[0]);var t,n,o,r,i}function O(e,t){var n,o,r=e.nodeName,i=t.nodeName;return r===i||(n=r.charCodeAt(0),o=i.charCodeAt(0),n<=90&&97<=o?r===i.toUpperCase():o<=90&&97<=n&&i===r.toUpperCase())}function r(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var R,L={OPTION:function(e,t){var n,o=e.parentNode;o&&("OPTGROUP"===(n=o.nodeName.toUpperCase())&&(n=(o=o.parentNode)&&o.nodeName.toUpperCase()),"SELECT"!==n||o.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),o.selectedIndex=-1)),r(e,t,"selected")},INPUT:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,o,r=-1,i=0,a=e.firstChild;a;)if("OPTGROUP"===(o=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===o){if(a.hasAttribute("selected")){r=i;break}i++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}e.selectedIndex=r}}};function w(){}function I(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}return R=function(e,t){var n,o,r,i,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var u=a.length-1;0<=u;u--)o=(n=a[u]).name,r=n.namespaceURI,i=n.value,r?(o=n.localName||o,e.getAttributeNS(r,o)!==i&&("xmlns"===n.prefix&&(o=n.name),e.setAttributeNS(r,o,i))):e.getAttribute(o)!==i&&e.setAttribute(o,i);for(var d=e.attributes,c=d.length-1;0<=c;c--)o=(n=d[c]).name,(r=n.namespaceURI)?(o=n.localName||o,t.hasAttributeNS(r,o)||e.removeAttributeNS(r,o)):t.hasAttribute(o)||e.removeAttribute(o)}},function(e,t,n){var o;n=n||{},"string"==typeof t&&("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName?(o=t,(t=k.createElement("html")).innerHTML=o):t=U(t));var p=n.getNodeKey||I,m=n.onBeforeNodeAdded||w,v=n.onNodeAdded||w,r=n.onBeforeElUpdated||w,i=n.onElUpdated||w,a=n.onBeforeNodeDiscarded||w,u=n.onNodeDiscarded||w,d=n.onBeforeElChildrenUpdated||w,c=!0===n.childrenOnly,h=Object.create(null),l=[];function b(e){l.push(e)}function y(e,t,n){!1!==a(e)&&(t&&t.removeChild(e),u(e),function e(t,n){if(1===t.nodeType)for(var o=t.firstChild;o;){var r=void 0;n&&(r=p(o))?b(r):(u(o),o.firstChild&&e(o,n)),o=o.nextSibling}}(e,n))}function N(e,t,n){var o=p(t);if(o&&delete h[o],!n){if(!1===r(e,t))return;if(R(e,t),i(e),!1===d(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,o,r,i,a,u,d=t.firstChild,c=e.firstChild;e:for(;d;){for(i=d.nextSibling,n=p(d);c;){if(r=c.nextSibling,d.isSameNode&&d.isSameNode(c)){d=i,c=r;continue e}o=p(c);var l=c.nodeType,f=void 0;if(l===d.nodeType&&(1===l?(n?n!==o&&((a=h[n])&&r!==a?(e.insertBefore(a,c),o?b(o):y(c,e,!0),c=a):f=!1):o&&(f=!1),(f=!1!==f&&O(c,d))&&N(c,d)):3!==l&&8!=l||(f=!0,c.nodeValue!==d.nodeValue&&(c.nodeValue=d.nodeValue))),f){d=i,c=r;continue e}o?b(o):y(c,e,!0),c=r}n&&(a=h[n])&&O(a,d)?(e.appendChild(a),N(a,d)):!1!==(u=m(d))&&(u&&(d=u),d.actualize&&(d=d.actualize(e.ownerDocument||k)),e.appendChild(d),function e(t){v(t);for(var n=t.firstChild;n;){var o,r=n.nextSibling,i=p(n);i&&(o=h[i])&&O(n,o)?(n.parentNode.replaceChild(o,n),N(o,n)):e(n),n=r}}(d)),d=i,c=r}!function(e,t,n){for(;t;){var o=t.nextSibling;(n=p(t))?b(n):y(t,e,!0),t=o}}(e,c,o);var s=L[e.nodeName];s&&s(e,t)}(e,t):L.TEXTAREA(e,t)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var o=p(n);o&&(h[o]=n),e(n),n=n.nextSibling}}(e);var f,s,A=e,g=A.nodeType,C=t.nodeType;if(!c)if(1===g)1===C?O(e,t)||(u(e),A=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(e,(f=t.nodeName,(s=t.namespaceURI)&&s!==x?k.createElementNS(s,f):k.createElement(f)))):A=t;else if(3===g||8===g){if(C===g)return A.nodeValue!==t.nodeValue&&(A.nodeValue=t.nodeValue),A;A=t}if(A===t)u(e);else{if(t.isSameNode&&t.isSameNode(A))return;if(N(A,t,c),l)for(var S=0,T=l.length;S<T;S++){var E=h[l[S]];E&&y(E,E.parentNode,!1)}}return!c&&A!==e&&e.parentNode&&(A.actualize&&(A=A.actualize(e.ownerDocument||k)),e.parentNode.replaceChild(A,e)),A}});