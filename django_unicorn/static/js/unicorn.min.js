"use strict";var Unicorn=function(){var f={},s="",p={};function c(e,r){e.forEach(function(e){var t,n,o;void 0!==r&&r&&e.id==r||(t=e.getAttribute("unicorn:model"),n=e,o=t,p.hasOwnProperty(o)&&("radio"==n.type.toLowerCase()?n.value==p[o]&&(n.checked=!0):"checkbox"==n.type.toLowerCase()?n.checked=p[o]:n.value=p[o]))})}function l(a,d,u,c,l){debounce(function(){var e,t,n=s+"/"+a,o=d.getAttribute("unicorn:checksum"),r={id:u,data:p,checksum:o,actionQueue:[c]},i={Accept:"application/json","X-Requested-With":"XMLHttpRequest"};i["X-CSRFToken"]=(e="",0<(t=document.getElementsByName("csrfmiddlewaretoken")).length&&(e=t[0].getAttribute("value")),e||console.error("CSRF token is missing. Do you need to add {% csrf_token %}?"),e),fetch(n,{method:"POST",headers:i,body:JSON.stringify(r)}).then(function(e){return e.ok?e.json():void console.error("Error when getting response: "+e.statusText+" ("+e.status+")")}).then(function(e){var t,n;e&&(e.error?console.error(e.error):(f.setData(e.data),t=e.dom,n={changed:[],added:[],removed:[]},morphdom(d,t,{childrenOnly:!1,getNodeKey:function(e){if(e.attributes&&(e.getAttribute("unicorn:key")||e.getAttribute("unicorn:id")||e.id))return e.getAttribute("unicorn:key")||e.getAttribute("unicorn:id")||e.id;if(e.id)return e.id},onNodeDiscarded:function(e){n.removed.push(e)},onBeforeElUpdated:function(e,t){if(e.isEqualNode(t))return!1},onElUpdated:function(e){n.changed.push(e)},onNodeAdded:function(e){n.added.push(e)}}),l&&"function"==typeof l&&l()))})},250)()}return f.init=function(e){s=e},f.componentInit=function(e){var i=e.id,a=e.name,d=document.querySelector('[unicorn\\:id="'+i+'"]'),u=d.querySelectorAll("[unicorn\\:model]");d||Error("No id found"),c(u),listen("input","[unicorn\\:model]",function(e,t){var n=t.getAttribute("unicorn:model"),o=function(e){var t=e.value;"checkbox"==e.type.toLowerCase()&&(t=e.checked);if("select-multiple"==e.type.toLowerCase()){t=[];for(var n=0;n<e.selectedOptions.length;n++)t.push(e.selectedOptions[n].value)}return t}(t),r=t.id;l(a,d,i,{type:"syncInput",payload:{name:n,value:o}},function(){c(u,r)})}),listen("click","[unicorn\\:click]",function(e,t){var n=t.getAttribute("unicorn:click");l(a,d,i,{type:"callMethod",payload:{name:n,params:[]}},function(){c(u)})})},f.setData=function(e){p=e},f}();function $(e,t){return null==t&&(t=document),t.querySelector(e)}function $$(e,t){return null==t&&(t=document),Array.from(t.querySelectorAll(e))}function listen(e,n,o){document.addEventListener(e,function(e){var t=e.target.closest(n);t&&o(e,t)})}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function debounce(o,r,i){var a;return function(){var e=this,t=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||o.apply(e,t)},r),n&&o.apply(e,t)}}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).morphdom=t()}(void 0,function(){var a;var x="http://www.w3.org/1999/xhtml",k="undefined"==typeof document?void 0:document,d=!!k&&"content"in k.createElement("template"),u=!!k&&k.createRange&&"createContextualFragment"in k.createRange();function O(e){return e=e.trim(),d?(n=e,(o=k.createElement("template")).innerHTML=n,o.content.childNodes[0]):u?(t=e,a||(a=k.createRange()).selectNode(k.body),a.createContextualFragment(t).childNodes[0]):(r=e,(i=k.createElement("body")).innerHTML=r,i.childNodes[0]);var t,n,o,r,i}function U(e,t){var n,o,r=e.nodeName,i=t.nodeName;return r===i||(n=r.charCodeAt(0),o=i.charCodeAt(0),n<=90&&97<=o?r===i.toUpperCase():o<=90&&97<=n&&i===r.toUpperCase())}function r(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var R,w={OPTION:function(e,t){var n,o=e.parentNode;o&&("OPTGROUP"===(n=o.nodeName.toUpperCase())&&(n=(o=o.parentNode)&&o.nodeName.toUpperCase()),"SELECT"!==n||o.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),o.selectedIndex=-1)),r(e,t,"selected")},INPUT:function(e,t){r(e,t,"checked"),r(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var o=e.firstChild;if(o){var r=o.nodeValue;if(r==n||!n&&r==e.placeholder)return;o.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,o,r=-1,i=0,a=e.firstChild;a;)if("OPTGROUP"===(o=a.nodeName&&a.nodeName.toUpperCase()))a=(n=a).firstChild;else{if("OPTION"===o){if(a.hasAttribute("selected")){r=i;break}i++}!(a=a.nextSibling)&&n&&(a=n.nextSibling,n=null)}e.selectedIndex=r}}};function L(){}function I(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}return R=function(e,t){var n,o,r,i,a=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var d=a.length-1;0<=d;d--)o=(n=a[d]).name,r=n.namespaceURI,i=n.value,r?(o=n.localName||o,e.getAttributeNS(r,o)!==i&&("xmlns"===n.prefix&&(o=n.name),e.setAttributeNS(r,o,i))):e.getAttribute(o)!==i&&e.setAttribute(o,i);for(var u=e.attributes,c=u.length-1;0<=c;c--)o=(n=u[c]).name,(r=n.namespaceURI)?(o=n.localName||o,t.hasAttributeNS(r,o)||e.removeAttributeNS(r,o)):t.hasAttribute(o)||e.removeAttribute(o)}},function(e,t,n){var o;n=n||{},"string"==typeof t&&("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName?(o=t,(t=k.createElement("html")).innerHTML=o):t=O(t));var p=n.getNodeKey||I,m=n.onBeforeNodeAdded||L,v=n.onNodeAdded||L,r=n.onBeforeElUpdated||L,i=n.onElUpdated||L,a=n.onBeforeNodeDiscarded||L,d=n.onNodeDiscarded||L,u=n.onBeforeElChildrenUpdated||L,c=!0===n.childrenOnly,h=Object.create(null),l=[];function b(e){l.push(e)}function y(e,t,n){!1!==a(e)&&(t&&t.removeChild(e),d(e),function e(t,n){if(1===t.nodeType)for(var o=t.firstChild;o;){var r=void 0;n&&(r=p(o))?b(r):(d(o),o.firstChild&&e(o,n)),o=o.nextSibling}}(e,n))}function N(e,t,n){var o=p(t);if(o&&delete h[o],!n){if(!1===r(e,t))return;if(R(e,t),i(e),!1===u(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,o,r,i,a,d,u=t.firstChild,c=e.firstChild;e:for(;u;){for(i=u.nextSibling,n=p(u);c;){if(r=c.nextSibling,u.isSameNode&&u.isSameNode(c)){u=i,c=r;continue e}o=p(c);var l=c.nodeType,f=void 0;if(l===u.nodeType&&(1===l?(n?n!==o&&((a=h[n])&&r!==a?(e.insertBefore(a,c),o?b(o):y(c,e,!0),c=a):f=!1):o&&(f=!1),(f=!1!==f&&U(c,u))&&N(c,u)):3!==l&&8!=l||(f=!0,c.nodeValue!==u.nodeValue&&(c.nodeValue=u.nodeValue))),f){u=i,c=r;continue e}o?b(o):y(c,e,!0),c=r}n&&(a=h[n])&&U(a,u)?(e.appendChild(a),N(a,u)):!1!==(d=m(u))&&(d&&(u=d),u.actualize&&(u=u.actualize(e.ownerDocument||k)),e.appendChild(u),function e(t){v(t);for(var n=t.firstChild;n;){var o,r=n.nextSibling,i=p(n);i&&(o=h[i])&&U(n,o)?(n.parentNode.replaceChild(o,n),N(o,n)):e(n),n=r}}(u)),u=i,c=r}!function(e,t,n){for(;t;){var o=t.nextSibling;(n=p(t))?b(n):y(t,e,!0),t=o}}(e,c,o);var s=w[e.nodeName];s&&s(e,t)}(e,t):w.TEXTAREA(e,t)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var o=p(n);o&&(h[o]=n),e(n),n=n.nextSibling}}(e);var f,s,g=e,A=g.nodeType,C=t.nodeType;if(!c)if(1===A)1===C?U(e,t)||(d(e),g=function(e,t){for(var n=e.firstChild;n;){var o=n.nextSibling;t.appendChild(n),n=o}return t}(e,(f=t.nodeName,(s=t.namespaceURI)&&s!==x?k.createElementNS(s,f):k.createElement(f)))):g=t;else if(3===A||8===A){if(C===A)return g.nodeValue!==t.nodeValue&&(g.nodeValue=t.nodeValue),g;g=t}if(g===t)d(e);else{if(t.isSameNode&&t.isSameNode(g))return;if(N(g,t,c),l)for(var S=0,T=l.length;S<T;S++){var E=h[l[S]];E&&y(E,E.parentNode,!1)}}return!c&&g!==e&&e.parentNode&&(g.actualize&&(g=g.actualize(e.ownerDocument||k)),e.parentNode.replaceChild(g,e)),g}});